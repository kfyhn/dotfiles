- defaults:
    link:
      relink: true
    shell:
      stdout: true
      stderr: true

- clean: ['~']

- link:
    ~/.vimrc: vim/vimrc
    ~/.bashrc_extra: bash/bashrc
    ~/.Brewfile: Brewfile

- shell:
  - [git submodule update --init --recursive, Installing submodules]
  - [echo 'source ~/.bashrc_extra' >> ~/.bashrc && source ~/.bashrc, Adding extra bashrc to user bashrc]
  - [git clone https://github.com/rupa/z.git ~/.z_repo, Installing z]
  - command: |
      brew install fzf
      $(/home/linuxbrew/.linuxbrew/bin/brew --prefix)/opt/fzf/install
    description: Install fzf
  - command: |
      /home/linuxbrew/.linuxbrew/bin/brew bundle --file ~/.Brewfile
      cp $(/home/linuxbrew/.linuxbrew/bin/brew --prefix oh-my-posh)/themes/jandedobbeleer.omp.json ~/.jandedobbeleer.omp.json
    description: Installing extra development tools with Homebrew